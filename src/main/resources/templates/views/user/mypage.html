<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{views/common/layout :: layout(~{::head}, ~{::main})}">

<head>
	<meta charset="UTF-8">
	<meta name="_csrf" content="${_csrf.token}" />
	<meta name="_csrf_header" content="${_csrf.headerName}" />
	<link rel="stylesheet" href="/css/user/mypage.css">
	<script src="/js/user/mypage.js" defer></script>
	<title>마이페이지</title>
</head>

<body>
	<main>
		<div class="profile-submenu">
			<button id="profile-btn" class="active">내 프로필</button>
			<button id="tier-btn">나의 등급</button>
			<button id="my-posts-btn">내가 쓴 글</button>
		</div>
		<section class="profile-wrap">
			<div id="profile-content">
				<div class="mypage-title">
					<h2>내 프로필</h2>
				</div>
				<div class="profile-container">
					<div class="profile-image-container">
						<img id="profile-picture"
						src="/img/default-profile.jpg"
						     alt="프로필 사진">
						<input type="file" id="profile-upload" accept="image/*" style="display: none;">
					</div>
					<form id="profile-form" class="profile-info">
						<ul>
							<li>
								<span>이름 : </span><span id="name" th:text="${user.userName}"></span>
							</li>
							<li>
								<span>생년월일 : </span>								
								<span id="birthdate" th:text="${user.birthDate}"></span>
							</li>
							<li>
								<span>닉네임 : </span>
								<span id="nickname" th:text="${user.nickName}"></span>
								<input type="text" id="nickname-input" th:value="${user.nickName}" style="display: none;">
							</li>
							<li>
								<span>핸드폰 : </span>
								<span id="phoneNumber" th:text="${user.phoneNumber}"></span>
								<input type="text" id="nickname-input" th:value="${user.phoneNumber}" style="display: none;">
							</li>
							<li>
								<span>이메일 : </span><span id="email" th:text="${user.email}"></span>
							</li>
							<li>
								<span>비밀번호 : </span>
								<span>********</span>
								<button type="button" id="change-password-btn">변경</button>
							</li>
						</ul>
						<div class="button-group">
							<button type="button" id="edit-btn">수정</button>
							<button type="button" id="cancel-btn" style="display: none;">취소</button>
							<button type="submit" id="save-btn" style="display: none;">수정완료</button>
						</div>
					</form>
				</div>
			</div>
			<!-- 나의 등급 -->
			<div id="tier-content" style="display: none;">
				<h2>나의 등급</h2>
				<div id="tier-image-container">
					<img id="tier-image" src="" alt="등급 이미지">
				</div>
				<p id="tier-description"></p>
				<p>내 게시글 수: <span id="post-count"></span></p>
			</div>
			<!-- 내가 쓴 글 -->
			<div id="my-posts-content" style="display: none;">
				<h2>내가 쓴 글</h2>
				<!-- 게시글 목록을 표시할 컨테이너 -->
				<ul id="posts-list-container">
					<!-- 임시 게시글 데이터 -->
					<li class="post-item">
						<span><a href="#">띵작 영화 추천</a></span>
						<p>2024-08-25</p>
					</li>
					<li class="post-item">
						<span><a href="#">최근 본 영화 TOP 5</a></span>
						<p>2024-08-10</p>
					</li>
					<li class="post-item">
						<span><a href="#">이 영화는 좀 짜친다</a></span>
						<p>2024-08-05</p>
					</li>
				</ul>
			</div>
			<!-- 비밀번호 변경 팝업 오버레이 -->
			<div class="popup-overlay"></div>
			<!-- 비밀번호 변경 팝업 -->
			<div id="password-popup">
				<form id="password-form">
					<input type="password" id="current-password" placeholder="현재 비밀번호" required>
					<input type="password" id="new-password" placeholder="새 비밀번호" required>
					<input type="password" id="confirm-password" placeholder="새 비밀번호 확인" required>
					<div class="popup-buttons">
						<button type="submit">확인</button>
						<button type="button" id="close-popup">취소</button>
					</div>
				</form>
			</div>
		</section>
	</main>
</body>

</html>